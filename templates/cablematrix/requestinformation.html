{% extends 'index.html' %}

{%load static%}
{% comment %} {% block title %}Forms{% endblock %} {% endcomment %}
<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="{% static 'stylesheet/cablematrix/portform.css'%}"/>
</head>
<body>
{% block container-fluid %}
    {{ block.super }}
    <!-- Additional sidebar content for child template -->
    {% comment %} <p class="heading">This is additional sidebar content for the child template.</p> {% endcomment %}
    
    <div class="container form-container mt-3">
        <h2 class="form-heading" style='color:black; text-align:center;'>Request Information</h2>
        <p style="color:blue">{{success}}</p>
        {% comment %} <form class="data-entry-form" method="POST" id="request-form">
            <table>
            {{form.as_table}}
            </table>
          
            <div class="form-group full-width" style="width:120px; text-align:center; margin-top:20px; margin-left:400px;">
                <input type="submit" value='Submit'/>
            </div>

            {% csrf_token %}
        </form> {% endcomment %}

        <form method="POST" action="">
            {% csrf_token %}
            {{ form.non_field_errors }}
    
            <table>
                <tr>
                    <th><label for="id_requestor">Requestor:</label></th>
                    <td>{{ form.requestor}}</td>
                
                    <th><label for="id_requesttypedatafeedmgmtcables">Request Type Data Feed / MGMT Cables:</label></th>
                    <td>{{ form.requesttypedatafeedmgmtcables }}</td>
                </tr>

                <tr>
                    <th><label for="id_existingdevicehostname">Existing Device Host Name:</label></th>
                    <td>{{ form.existingdevicehostname }}</td>
                    <th><label for="id_existingdevicemodel">Existing Device Model:</label></th>
                    <td>{{ form.existingdevicemodel }}</td>
                </tr>

                <tr>
                    <th><label for="id_requirementreceiveddate">Requirement Received Date:</label></th>
                    <td>{{ form.requirementreceiveddate }}</td>
                    <th><label for="id_implementationpmattno">Implementation PMATT No:</label></th>
                    <td>{{ form.implementationpmattno }}</td>
                </tr>

                <tr>
                    <th><label for="id_capitalpmattno">Capital PMATT No:</label></th>
                    <td>{{ form.capitalpmattno }}</td>
                    <th><label for="id_projectname">Project Name:</label></th>
                    <td>{{ form.projectname }}</td>
                </tr>

                <tr>
                    <th><label for="id_projectmanager">Project Manager:</label></th>
                    <td>{{ form.projectmanager }}</td>
                    <th><label for="id_newdevicehostname">New Device Host Name:</label></th>
                    <td>{{ form.newdevicehostname }}</td>
                </tr>

                <tr>
                    <th><label for="id_newdevicemodel">New Device Model:</label></th>
                    <td>{{ form.newdevicemodel }}</td>
                    <th><label for="id_location">Location:</label></th>
                    <td>{{ form.location }}</td>
                </tr>
                <tr>
                    <th><label for="id_clli">CLLI:</label></th>
                    <td>{{ form.clli }}</td>
                    <th><label for="id_domain">Domain:</label></th>
                    <td>{{ form.domain }}</td>
                </tr>
                <tr>
                    <th><label for="id_planner">Planner:</label></th>
                    <td>{{ form.planner }}</td>
                </tr>
                <tr>
                    <td colspan="2" style="padding:10px;padding-left:400px">
                        <input type="hidden" name="action" value="SUBMIT">
                        <button type="submit">SUBMIT</button>
                    </td>
                </tr>
            </table>
        </form>
    </div>
{% endblock %}

{% comment %} <script>
    document.getElementById('request-form').addEventListener('submit', function(event) {
        let valid = true;
        const dateInputs = document.querySelectorAll('.date-input');
        const datePattern = /^\d{2}\/\d{2}\/\d{4}$/;  // MM/DD/YYYY
    
        dateInputs.forEach(function(input) {
            if (!datePattern.test(input.value)) {
                valid = false;
                input.style.borderColor = 'red';
                if (!input.nextElementSibling || !input.nextElementSibling.classList.contains('error')) {
                    const error = document.createElement('div');
                    error.classList.add('error'); // Add the error class
                    error.innerText= 'Enter a valid date in MM/DD/YYYY format.';
                    error.style.color = 'red';
                    input.parentNode.insertBefore(error, input.nextSibling);
                }
            } else {
                input.style.borderColor = '';
                if (input.nextElementSibling && input.nextElementSibling.classList.contains('error')) {
                    input.nextElementSibling.remove();
                }
            }
        });
    
        if (!valid) {
            event.preventDefault();
        }
    });
</script> {% endcomment %}
    
</body>
</html>

