{% extends 'index.html' %}

{%load static%}
{% comment %} {% block title %}Forms{% endblock %} {% endcomment %}
<!DOCTYPE html>
<html>
    <head>
<link rel="stylesheet" href="{% static 'stylesheet/cablematrix/portform.css'%}"/>
    </head>
    <body>
{% block container-fluid %}
    {{ block.super }}
    <!-- Additional sidebar content for child template -->
    {% comment %} <p class="heading">This is additional sidebar content for the child template.</p> {% endcomment %}
    
    <div class="container form-container mt-3">
        <h2 class="form-heading" style='color:black; text-align:center;'>DCS Request</h2>
        {% comment %} <form class="data-entry-form" method="POST">
            
            <table>
            {{form.as_table}}
            </table>

            <div class="form-group full-width" style="width:120px; text-align:center; margin-top:20px; margin-left:400px;"> {% endcomment %}
                {% comment %} <button type="submit">Submit</button> {% endcomment %}
                {% comment %} <input type='submit' value='Submit'/>
            </div>

            {% csrf_token %}
        </form> {% endcomment %}


        <form method="POST" action="">
            {% csrf_token %}
            {{ form.non_field_errors }}
    
            <table>
                <tr>
                    <th><label for="id_existingdevicehostname">Existing Device Host Name:</label></th>
                    <td>{{ form.existingdevicehostname }}</td>
                </tr>
                
                <tr>
                    <th><label for="id_newdevicehostname">New Device Host Name:</label></th>
                    <td>{{ form.newdevicehostname }}</td>
                </tr>
                
                <tr>
                    <th><label for="id_dcsrequesteddate">DCS Requested Date:</label></th>
                    <td>{{ form.dcsrequesteddate }}</td>
                </tr>
                <tr>
                    <th><label for="id_dcsrequestapproveddate">DCS Request Approved Date:</label></th>
                    <td>{{ form.dcsrequestapproveddate }}</td>
                </tr>
                <tr>
                    <th><label for="id_dcsrequestid">DCS Requestor Id:</label></th>
                    <td>{{ form.dcsrequestid }}</td>
                </tr>
                <tr>
                    <th><label for="id_dcsrequeststatus">DCS Request Status:</label></th>
                    <td>{{ form.dcsrequeststatus }}</td>
                </tr>
                <tr>
                    <th><label for="id_powercabinetstatus">Power Cabinet Status:</label></th>
                    <td>{{ form.powercabinetstatus }}</td>
                </tr>
                <tr>
                    <th><label for="id_rackstackstatus">Rack Stack Status:</label></th>
                    <td>{{ form.rackstackstatus }}</td>
                </tr>
                
    
                <tr>
                    <td colspan="2">
                        <input type="hidden" name="action" value="SUBMIT">
                        <button type="submit">SUBMIT</button>
                    </td>
                </tr>
            </table>
        </form>
    </div>
{% endblock %}


{% comment %} <script>
    document.getElementById('dc-form').addEventListener('submit', function(event) {
        let valid = true;
        const dateInputs = document.querySelectorAll('.date-input');
        const datePattern = /^\d{2}\/\d{2}\/\d{4}$/;  // MM/DD/YYYY
    
        dateInputs.forEach(function(input) {
            if (!datePattern.test(input.value)) {
                valid = false;
                input.style.borderColor = 'red';
                if (!input.nextElementSibling || !input.nextElementSibling.classList.contains('error')) {
                    const error = document.createElement('div');
                    error.classList.add('error'); // Add the error class
                    error.innerText= 'Enter a valid date in MM/DD/YYYY format.';
                    error.style.color = 'red';
                    input.parentNode.insertBefore(error, input.nextSibling);
                }
            } else {
                input.style.borderColor = '';
                if (input.nextElementSibling && input.nextElementSibling.classList.contains('error')) {
                    input.nextElementSibling.remove();
                }
            }
        });
    
        if (!valid) {
            event.preventDefault();
        }
    });
</script> {% endcomment %}

</body>
</html>

